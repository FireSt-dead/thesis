<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META HTTP-EQUIV="Content-Type" content="text/html;charset=windows-1251">
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>Катедралата и базарът: Пускай рано. Пускай често.</TITLE>
 <LINK HREF="catb-bg-5.html" REL=next>
 <LINK HREF="catb-bg-3.html" REL=previous>
 <LINK HREF="catb-bg.html#toc4" REL=contents>
</HEAD>
<BODY>
<A HREF="catb-bg-5.html">Следваща страница</A>
<A HREF="catb-bg-3.html">Предишна страница</A>
<A HREF="catb-bg.html#toc4">Съдържание</A>
<HR>
<H2><A NAME="s4">4. Пускай рано. Пускай често.</A></H2>

<P>Ранните и чести издания са критична част от модела за разработка на
Linux. По-рано, повечето разработчици (включително и аз) вярваха, че
тази политика не върши работа при проекти по-големи от тривиални,
защото ранните издания почти винаги са пълни с грешки, а човек не би
искал да изчерпва търпението на потребителите си.
<P>Тази вяра подсили общото отдаване на катедралния стил на разработка.
Ако най-важното беше потребителите да виждат възможно най-малко грешки,
то защо да не пускаш по едно ново издание на всеки шест месеца, а през
останалото време да бачкаш като луд по отстраняването на грешките. С
ядрото на Еmacs беше разработено по този начин. Lisp библиотеката, по
обратния -- защото имаше активни Lisp архиви извън контрола на FSF,
където човек би могъл да отиде, за да намери нови версии на кода
независимо от цикъла на пускане на Emacs 
<A HREF="catb-bg-15.html#[QR]">[QR]</A>.
<P>Най-важният от тях -- elisp архивът на щата Охайо, носеше духа и
много от характерните черти на днешните големи Linux архиви. Малцина от
нас обаче се замисляха какво правим, или какво точно предполагаше за
проблемите в катедралния стил на разработка на FSF самото съществуване
на този архив. Около 1992-а направих един сериозен опит формално да
вкарам в официалната Emacs библиотека голяма част от кода на Охайо.
Заради това обаче имах неприятности от политическо естество и общо
взето нямах успех.
<P>Една година по-късно обаче, когато Linux започна да се откроява все
повече, ставаше ясно, че се случва нещо много по-различно и
здравословно. Политиката за отворена разработка на Линус беше пълна
противоположност на катедралния модел. Архивите Sunsite (след това 
<A HREF="http://metalab.unc.edu">Metalab</A>, а по-късно и 
<A HREF="http://www.ibiblio.org">Ibiblio</A>) и tsx-11 се разрастваха,
можеха да се намерят множество дистрибуции. И всичко това направлявано
от нечувана до този момент честота на пускане на основната система.
<P>Линус се отнасяше към своите потребители като към съразработчици по
възможно най-ефективния начин:
<P>
<BLOCKQUOTE>
<EM>7. Пускай рано. Пускай често. И слушай клиентите
си.</EM>
</BLOCKQUOTE>
<P>Откритието на Линус беше не толкова че правеше това (в Unix-света
дълго време преди това имаше подобна традиция), колкото в усилването му
до степен, еквивалентна на сложността на това, което разработваше. В
онези ранни времена (около 1991-а) нерядко му се случваше да пуска ново
ядро повече от веднъж на <EM>ден</EM>! И тъй като той култивираше
базата си от съразработчици и използваше Интернет за съвместна работа
по-здраво от всеки друг, това сработваше.
<P><EM>Как</EM> обаче? И дали беше нещо, което мога да повторя, или се
осланяше на някаква уникална гениална черта на Линус Торвалдс?
<P>Не мислех така. Линус наистина е дяволски добър хакер (колцина от
нас биха могли да разработят цяло ядро на операционна система с
продуктово качество?). Но Linux не представляваше някаква гигантска
стъпка напред в концепцията. Линус не е (поне все още не е) изобретателен
гений на дизайна каквито са, да кажем, Ричард Столман или Джеймс
Гослинг (създали съответно NeWS и Java). Линус по-скоро ми изглеждаше
като гений на инженерството с шесто чувство за избягване на грешките,
задънените улици в разработката, и с истински талант да намира
най-лесния път от точка А до точка Б. И наистина целият дизайн на Linux
е пропитс това качество, и отразява общо взето консервативния и
опростяващ подход на Линус.
<P>И така, ако бързите издания и използването на Интернет-средата до
максимум бяха не случайни, а неделими части от прозрението на
инженерния гений на Линус към пътя, изискващ най-малко усилия, какво
усилваше той? Какво изчовъркваше от машинарията?
<P>Изказан по този начин, въпросът е реторичен. Линус постоянно
стимулираше и възнаграждаваше своите хакери/потребители -- стимулираше
ги възможността да свършат някаква част от работата, задоволяваща егото
им, а ги възнаграждаваше гледката на постоянното (дори
<EM>всекидневно</EM>) подобряване на работата им.
<P>Линус пряко целеше да увеличи човеко-часовете, хвърлени в
отстраняването на грешки, дори и това да стане за сметка на
нестабилност на кода и яд у потребителите, ако някоя грешка не може да
се последи. Линус се държеше, като че вярваше в следното:
<P>
<BLOCKQUOTE>
<EM>8. Ако има достатъчно голяма база от бета-изпитатели и
съразработчици, почти всеки проблем ще бъде характеризиран бързо, а
поправянето му ще бъде очевидно за някой.</EM>
</BLOCKQUOTE>
<P>Или казано не така формално -- "Ако има достатъчно очи, всички
грешки се виждат". Аз го наричам "Законът на Линус".
<P>Моята първоначална формулировка беше, че всеки проблем ще е
"очевиден за някого". Линус обаче смяташе, че този, който разбере и
оправи проблема, не е задължително, нито обикновено същият, който го
характеризира. "Някой вижда проблема", казва той, "а някой
<EM>друг</EM> го разбира. Продължавам да твърдя, че да откриеш е
по-голямото предизвикателство". Важното е обаче, че и двете неща се
случват бързо.
<P>Тук според мен се намира основната разлика между катедралния и
базарния стил. В "катедралните" възгледи за програмирането грешките и
проблемите при разработка са тайнствени, коварни, дълбоки феномени.
Нужни са месеци усърдна работа от посветените малцина, докато се добие
увереност, че всичко е чисто. Оттам идват и дългите интервали между
изданията и неизбежните разочарования, когато дългоочакваните издания
не са съвършени.
<P>При базарния възглед за нещата, от друга страна, се приема, че грешките
общо взето са просто явление, или поне се оказват прости, когато бъдат
изложени пред хилядите нетърпеливи съразработчици, които се нахвърлят
на всяко ново издание. Съответно се правят по-чести издания, за да има
повече поправки, като една от добрите страни на това е, че имаш да
губиш по-малко, ако някоя грешка случайно успее да се промъкне
незабелязана.
<P>Това е всичко. И е достатъчно. Ако Законът на Линус не е верен, то
всяка друга система, сложна като ядрото на Linux, и по която
"хакерстват" толкова много ръце както при ядрото на Linux, би
трябвало в един момент да се срине под тежестта на непредвидени лоши
взаимодействия и неоткрити "дълбоки" грешки. Ако обаче е верен, то е
достатъчно да обясни относителната липса на грешки в Linux и
продължителното му непрекъснато време на работа, стигащо до месеци и
дори години.
<P>Всъщност това може би не трябва да ни изненадва. Още преди години
социолозите са открили, че усредненото мнение на група от еднакво учени
(или еднакво невежи) наблюдатели е доста по-благонадеждно, отколкото
това на един случайно избран наблюдател.
<P>Те наричат това "Делфийски ефект". Явно Линус показва, че това
може да се приложи дори и при разработката на операционна система -- че
Делфийският ефект може да "укроти" сложността на разработката дори и
при ниво на сложност като това на ядро на операционна система.
<P>Една специфична характеристика на ситуацията с Linux, която много
допринася освен "Делфийския ефект", е фактът, че работещите по всеки
даден проект се самоизбират. Преди си кореспондирах с един човек,
който посочи, че контрибуции се получават не от случайно подбрани хора,
а от такива, които са достатъчно заинтересувани да използват софтуера,
да научат как работи, да се опитат да намерят решения на проблемите,
които срещат, и всъщност да направят несъмнено разумна поправка. Всеки,
който отговаря на тези условия, е много вероятно да има какво да
допринесе.
<P>Задължен съм на моя приятел Джеф Дътки &lt;dutky@wam.umd.edu&gt;,
задето ми посочи, че Законът на Линус може да бъде перифразиран като
"Отстраняването на грешки е паралелизируемо". Джеф е забелязал, че
въпреки необходимостта хората, отстраняващи грешки, да поддържат връзка
с някой координиращ разработчик, не е необходима кой-знае каква
координация между самите тях. Следователно отстраняването на грешки не
изпада в същата квадратична сложност и увеличение на разходите, които
правят прибавянето на разработчици проблематично.
<P>На практика теоретичната загуба на производителност поради дублиране
на работата почти никога не е проблем в Linux света. Един от ефектите,
следващи политиката "пускай рано и често" се състои в минимизирането
на подобно дублиране чрез бързото разпространяване на върнатите
поправки 
<A HREF="catb-bg-15.html#[JH]">[JH]</A>.
<P>Брукс дори е направил импровизирано наблюдение, свързано с това на
Джеф: "Общата стойност на поддържането на широко използвана програма
обикновено е 40% или повече от стойността на разработката й.
Изненадващото е, че тази стойност се влияе силно от броя на
потребителите. <EM>Колкото повече потребители има, толкова повече
грешки откриват те.</EM>" (курсивът е мой).
<P>Повечето потребители откриват повече грешки, защото добавянето на
още потребители добавя и множество различни начини за изпитване на
програмата. Този ефект се усилва, когато потребителите са и
съразработчици. Всеки един подхожда към задачата да открие грешки с
малко по-различна настройка и аналитичен модел от останалите, с
различен ъгъл на проблема. Изглежда "Делфийският ефект" работи точно
именно поради тази разлика. В специфичния контекст на отстраняването на
грешки, разликата освен това има тенденцията да намалява дублирането на
труда.
<P>Затова добавянето на повече бета-изпитатели може и да не намали
сложността на настоящата "най-дълбока" грешка от гледна точка на
<EM>разработчиците</EM>, но увеличава вероятността нечий
инструментариум да пасне на проблема по такъв начин, че грешката да
стане очевидна <EM>за този човек</EM>.
<P>Линус също залага на това. В случай че <EM>съдържа</EM> сериозни
грешки, версията на ядрото на Linux се определя по такъв начин, че
потенциалните потребители могат да избират дали да използват последната
версия, определена като "стабилна", или да се движат по острието на
бръснача и да рискуват с грешките за сметка на някои нови функции.
Повечето Linux хакери все още не подражават формално на тази тактика, а
може би трябва; фактът, че са достъпни и двата избора ги прави
по-привлекателни.
<HR>
<A HREF="catb-bg-5.html">Следваща страница</A>
<A HREF="catb-bg-3.html">Предишна страница</A>
<A HREF="catb-bg.html#toc4">Съдържание</A>
</BODY>
</HTML>
